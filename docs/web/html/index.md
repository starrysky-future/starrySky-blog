---
tag: html
tags: 前端
categories:
  - 大前端
recommend: 1
---

# HTML 知识归纳

## 一、标准模式和兼容模式

- 标准模式的渲染方式和 JS 引擎的解析方式都是以该浏览器支持的最高标准运行
- 在兼容模式中，页面以宽松的向后兼容的方式显示模拟老的浏览器防止站点无法工作

## 二、defer 和 async 的区别

相同点：这两个都是用来异步加载脚本的

区别：

1. async 属性的脚本会在下载完成后立即执行，同时会在 load 事件之前执行， 而且因为是下载完成之后立即执行，所以多个 async 的脚本不是按照顺序执行
2. defer 属性的脚本是在文档解析完成之后，DOMContentLoaded 事件之前执行，而且多个 defer 是按照原来的顺序执行的

## 三、DOMContentLoaded 和 Load 区别

- DOMContentLoaded:文档被完全加载和解析完成之后执行
- Load:页面被完全加载之后执行，也就是 html、css、js、图片等资源已经完全加载了才会触发 load 事件

## 四、html 语义化的理解

1. 对机器友好，带有语义的文字表现力丰富，更适合搜索引擎的爬虫爬取有效的信息，有利于 SEO
2. 对开发者友好，使用语义标签增强了可读性，结构更加清晰，便于团队的开发和维护

## 五、link 和@import 有什么区别

1. 从属关系区别，@import 是 css 提供的语法规则，只能用于导入样式表；link 是 html 的标签，不仅可以用来加载 css 文件，也可以做其他操作，比如引入网站图标
2. 加载顺序的区别。加载页面时，link 引入的 css 被同时加载，而@import 引入的 css 会在页面加载完毕之后被加载

## 六、从浏览器地址栏输入 url 到显示页面的步骤

1. 在浏览器地址栏输入 url
2. 浏览器去查看是否有缓存，缓存分为强缓存和协商缓存
   1. 首先检查强缓存，HTTP1.0 使用的是 Expires，HTTP1.1 使用的是 Cache-Control
   2. Expires 过期时间，时间是相对于服务器时间而言，存在于服务端返回的响应头中，在这个时间过期之前都可以直接从缓存中获取数据，无需再次请求。**问题：服务器的时间和浏览器的时间可能不一致**
   3. Cache-Control 过期时长，设置 max-age，更高优先级
   4. 没有命中强缓存，就会去检查协商缓存，协商缓存每次都会发起请求去到服务端验证，HTTP1.0 使用的 Last-modified，HTTP1.1 使用的是 Etag
   5. Last-modified 就是文件的最后的修改时间，获取数据时服务端会在响应头中添加 Last-modified，浏览器在验证协商缓存时就会发起请求在请求头添加 if-Modified-Since 属性，属性值就是上次返回的 Last-modified。服务端就会拿这个值和资源的最后修改时间做比对，如果资源没有修改，就会返回 304 状态码，让客户端使用本地资源，否则返回最新的资源。**Last-modified 的最后修改时间只能精确到秒级，如果资源在 1 秒内被多次改动，那么就会导致资源修改了最后修改时间没变，导致资源命中不准确**
   6. Etag 资源唯一标识，浏览器发起请求会将上次服务端返回的响应头中 Etag 值放入到请求头 If-None-Match 中，服务器拿到 If-None-Match 就会于资源的 Etag 进行比对，一致就会返回 304，告诉浏览器直接使用缓存。如果不一样，就返回新的资源
3. DNS 域名解析，找到真实的 IP 地址
4. 通过三次握手，建立起 TCP 连接，然后发起 HTTP 请求
5. 服务器接收到请求，进行解析，获取相应数据返回给浏览器
6. 浏览器接收到数据后，通过四次挥手关闭 TCP 连接或者保留重用
7. 如果资源可以缓存，就进行缓存
8. 浏览器进行资源解析，解析 HTML 文档，构建 DOM 树，解析 css 文件，构建 CSSOM 树。通过这两个树去构建渲染树
9. js 的解析，遇到 async 的 script，下载脚本和解析文档同时进行，下载完成就执行，没有顺序。遇到 defer 的 script，下载脚本和解析文档同时进行，会按照在文档出现的顺序进行执行
10. 最后将渲染树渲染成屏幕的像素

## 七、前端 SEO

1. 合理的 title、description、keywords
2. 语义化的 HTML 代码
3. 重要的内容放在最前
4. 重要内容不要用 js 输出
5. 少用 iframe
6. 非装饰图片必须加 alt
7. 提高网站速度

## 八、语义化

- 让页面的内容结构化，便于浏览器、搜索引擎解析
- 在没有 css 情况下，也以一种文档格式显示
- 便于搜索引擎抓取，有利于 SEO
- 便于维护人员阅读和理解

## 九、浏览器内核

主要分为两个部分：渲染引擎和 js 引擎

- 渲染引擎：负责解析网站的 HTML、XML、图像等内容，对网页进行布局、样式计算、绘制等任务，最后渲染成屏幕像素展示给用户。不同的浏览器内核对网页的解析和渲染方式可能会有差异，因此不同浏览器的渲染效果也会有不同。
  - webkit：主要用于 safari 和 chrome 浏览器
  - gecko：主要用于 firefox 浏览器
  - Trident：主要用于旧版的 IE 浏览器
  - Blink：基于 webkit，用于 chrome、Opera
  - presto：用于之前的 Opera
- js 引擎：负责解析和执行网页中的 js 代码，实现网页的动态交互和功能。不同浏览器的 JavaScript 引擎性能和特性也可能存在差异。
  - v8：用于 chrome 和 Opera 浏览器，具有高性能和快速执行速度
  - spiderMonkey：用于 firefox 浏览器
  - javascriptCore：用于 safari 浏览器

## 十、html5

- 新增功能
  - 新增选择器：`document.querySelector`、`document.querySelectorAll`
  - 拖拽释放(`Drag and drop`)API
  - 媒体播放`video`和`audio`
  - 本地存储`localStorage`和`sessionStorage`
  - 离线应用`manifest`
  - 桌面通知`Notifications`
  - 语义化的标签`article`、`footer`、`header`、`nav`、`section`
  - 增强表单控件`calendar`、`date`、`email`、`time`、`url`、`search`
  - 地理位置`Geolocation`
  - 多任务`webworker`
  - 全双工通信协议 `websocket`
  - 历史管理`history`
  - 跨域资源共享(CORS)`Access-Control-Allow-Origin`
  - 页面可见性改变事件`visibilitychange`
  - 跨窗口通信`PostMessage`
  - `Form Data`对象
  - 绘画`canvas`
- 移除的元素
  - 纯表现元素：`basefont`、`big`、`center`、`font`、`s`、`strike`、`tt`、`u`
  - 对可用性产生负面影响的元素：`frame`、`frameset`、`noframes`

## 十一、HTML5 的离线存储

- 在用户没有联网时，可以正常访问网站或应用，在用户联网时，更新用户设备上的缓存文件
- 原理：`HTML5`的离线存储是基于一个新建的.appcache 文件的缓存机制，通过这个文件上的解析清单离线存储资源，这些资源会像`cookie`一样被保存下来。
- 使用
  - 页面头部加入一个`manifest`属性
  - 在`cache.manifest`文件编写离线存储的资源
  - 在离线状态时，操作`window.applicationCache`进行需求实现
- 管理：
  - 在线的情况下，浏览器发现`html`头部有`manifest`属性，它会请求`manifest`文件，如果是第一次访问`app`，那么浏览器就会根据`manifest`文件的内容下载相应的资源并进行离线存储。如果已经访问过`app`并且资源已经离线存储了，那么浏览器就会使用离线的资源加载页面，然后会对新的`manifest`文件和旧的`manifest`文件，如果文件没有发生变化，就不做任何操作，如果文件改变了，那么就会重新下载文件中资源并离线存储。

## 十二、cookie、sessionStorage 和 localStorage

- 使用：
  - `cookie`是网站为了标示用户身份而储存在用户本地终端上的数据，每次请求都会被携带到服务器
  - `sessionStorage`和`localStorage`不会自动把数据发到服务器，仅在本地存储
- 存储大小：
  - `cookie`数据大小不能超过`4k`
  - `sessionStorage`和`localStorage`会大得多，可以达到 5m 或更大
- 有效时间：
  - `localStorage`存储持久数据，浏览器关闭后数据不会丢失除非主动删除数据
  - `sessionStorage`会话存储，当前浏览器窗口关闭后会自动删除
  - `cookie`在设置的过期时间之前会一直有效

## 十三、iframe 有哪些缺点

- 阻塞主页面的`onload`事件
- 不利于 SEO
- `iframe` 和主页面共享连接池，而大多数浏览器对相同域的连接数有限制。

## 十四、WEB 标准以及 W3C 标准

WEB 标准是指由万维网联盟（World Wide Web Consortium，简称 W3C）制定的一系列技术规范和指南，旨在确保网页在不同的浏览器和设备上具有一致的表现和行为。这些标准涵盖了 HTML、CSS、JavaScript 等前端技术，并规定了它们的语法、结构、样式以及交互行为等方面的规范。

W3C 标准是由 W3C 组织制定和推广的一系列技术标准，旨在推动网络技术的发展和互操作性。W3C 是一个国际性的标准化组织，由互联网行业的各大公司、研究机构和个人组成，致力于制定并推广互联网的开放标准。W3C 标准包括 HTML、CSS、XML、DOM、SVG 等多个技术领域，并且不断更新和演进，以适应新的需求和技术发展。

- **标签闭合**：HTML 标签必须按照规定的格式正确闭合，以确保页面结构的准确性和一致性。
- **标签小写**：HTML 标签和属性应该使用小写字母，以避免浏览器解析错误。
- **不乱嵌套**：HTML 标签应该按照正确的嵌套规则进行使用，不应该出现乱七八糟的嵌套结构，以确保页面结构的清晰和可维护性。
- **使用外链 CSS 和 JS**：将 CSS 样式和 JavaScript 代码尽可能地放在外部文件中，并通过链接的方式引入，以实现结构、行为和表现的分离，提高代码的可重用性和可维护性。

## 十五、Doctype 作用

- `Doctype`的作用是告知浏览器的解析器使用哪种`html`或`xhtml`规范来解析文档
- 严格模式（标准模式）是指浏览器按照`HTML`或`XHTML`的规范严格解析和渲染页面，以确保页面在不同浏览器中具有一致的展示效果和行为。在严格模式下，浏览器会按照规范要求的方式处理`HTML`和`CSS`代码。
- 混杂模式（怪异模式或兼容模式）是指浏览器使用较宽松的解析方式来渲染页面，以模拟旧式浏览器的行为，以保证旧版网站的兼容性。在混杂模式下，浏览器可能会容忍一些不符合规范的`HTML`和 CSS`代码，导致页面展示和行为在不同浏览器中有差异。
- 通过`DOCTYPE`声明的类型来区分严格模式和混杂模式。当`DOCTYPE`声明为严格的`HTML`或`XHTML`规范时，浏览器会进入严格模式；当`DOCTYPE`声明缺失或格式不正确时，浏览器会进入混杂模式。
- 严格模式和混杂模式的意义在于确保页面在不同浏览器中的一致性和兼容性。严格模式使开发者能够使用更规范的`HTML`和`CSS`代码，减少兼容性问题，提高网页的可靠性和可维护性。混杂模式则用于支持旧版网站，以确保这些网站在新版浏览器中能够正确显示和运行。

## 十六、块元素、行内元素

- 行内元素：`a` `b` `span` `img` `input` `select` `strong`等。
- 块级元素有：`div` `ul` `ol` `li` `dl` `dt` `dd` `h1` `h2` `h3` `h4`等标题标签、`p` 段落标签等。
- 空元素（void 元素）是指没有内容的 HTML 元素。常见的空元素包括：`<br>` 换行元素、`<hr>` 水平线元素、`<img>` 图片元素、`<input>` 输入框元素、`<link>` 样式表引用元素、`<meta>` 元数据元素等。

## 十七、HTML 全局属性(global attribute)

- `class`:为元素设置类标识
- `data-*`: 为元素增加自定义属性
- `draggable`: 设置元素是否可拖拽
- `id`: 元素`id`，文档内唯一
- `lang`: 元素内容的的语言
- `style`: 行内`css`样式
- `title`: 元素相关的建议信息

## 十八、Canvas 和 SVG 的区别

1. Canvas：
   - canvas 是一个 html5 元素，用于在网页上绘制图形、动画和图像
   - 通过使用 javascript 绘制图形，canvas 提供一个像素级的绘图环境
   - canvas 绘制的是位图，它是由一系列的像素组成的，所以在放大时会出现像素失真会锯齿效应
   - canvas 不会保留绘画的对象，绘制完成后，图形将被保存为一张图片
   - 由于绘制是基于像素的，canvas 更适合像素级的图像处理、游戏开发等场景
   - canvas 不支持事件绑定，需要通过监听鼠标、键盘等事件来实现交互
2. SVG：
   - SVG 是一种基于 XML 的矢量图形格式，用于在网页上绘制图形和图像
   - SVG 使用 XML 描述图形，它是由一系列矢量对象组成，可以方便的修改和操作
   - SVG 绘制的是矢量图形，它基于数学描述，可以自由缩放和变换而不会失真或产生锯齿效应。
   - SVG 保留了绘图的对象，可以对其进行修改、删除和动态操作。
   - 由于是矢量图形，SVG 更适合处理图表、数据可视化和可缩放的图形场景。
   - SVG 支持事件绑定，可以方便地为图形元素添加交互行为。

## 十九、`<!DOCTYPE HTML>`

它是一个标准模式的声明，告诉浏览器当前文档遵循的是 HTML5 规范，指定文档类型，规范浏览器的行为

## 二十、页面上实现一个圆形的可点击区域

1. 使用 SVG（可缩放矢量图形）：可以使用 SVG 元素 `<circle>` 创建一个圆形，并通过添加事件监听器实现点击功能。
2. 使用 CSS `border-radius`：通过设置一个具有相等宽度和高度的元素，并将 border-radius 属性设置为 50% 可以创建一个圆形区域
3. 使用纯 JavaScript 实现：通过计算鼠标点击的坐标与圆心的距离，判断点击位置是否在圆形区域内。

## 二十一、网页验证码的作用

作用：区分用户是人还是计算机的公共全自动程序

1. 防止恶意破解：对帐号、密码的无限尝试
2. 防止刷票和论坛灌水

## 二十二、渲染优化

- 禁止使用`iframe`
- 使用 css3 代码代替 js 动画
- 对于小图标，可以使用 base64 编码，以减少网络请求
- 使用 className 的切换来代替直接操作 style

## 二十三、div+css 的布局较 table 布局有什么优点

- 改版的时候方便，只需要改动 css 文件
- 页面加载速度更快、结构化清晰、页面显示简洁
- 表现与结构分离
- 搜索引擎更友好

## 二十四、img 的 alt 与 title

- alt：用于图像不能显示，提供文字显示
- title：为图像提供额外的描述信息，鼠标悬停时会显示出来

## 二十五、渐进增强和优雅降级

- 渐进增强：针对低版本的浏览器进行构建页面，保证最基本的功能，再针对高版本浏览器进行效果、交互等改进和追加功能来提升用户体验
- 优雅降级：一开始就构建完整的功能，再针对低版本浏览器进行兼容

## 二十六、为什么利用多个域名来存储网站资源会更有效

- CDN 缓存方便：内容分发网络（CDN）可以更轻松地缓存和分发位于不同域名下的资源，提高资源的访问速度和可用性。
- 突破浏览器并发限制：大多数浏览器对同一域名下的并发请求数量有限制，通过将资源分布在多个域名下，可以突破这一限制，同时发送更多的并发请求，加快页面加载速度。
- 减少 cookie 带宽：浏览器在每个请求中都会携带相应域名下的 cookie 信息，通过将资源分布在不同的域名下，可以减少对 cookie 的传输，节约带宽和提高性能。
- 节约主域名的连接数：浏览器对同一域名下的连接数也有限制，通过将资源请求分散到多个域名下，可以减少对主域名的连接数占用，提高页面的响应速度和并发处理能力。
- 防止不必要的安全问题：将静态资源与主要网站内容分离到不同的域名下，可以降低恶意攻击者利用资源加载过程中的安全漏洞对主站点进行攻击的风险。

## 二十七、src 与 href 的区别

- src 用于替换当前元素，指向的资源会嵌入到文档中，例如脚本、图像等
- href 用于建立文档和引用资源的链接，例如链接到其他文档或引入外部样式表

## 二十八、图片格式

- JPEG：适用于存储照片和复杂的图像，具有较高的压缩比，但会有一定的图像质量损失
- PNG：适用于图标、透明背景的头像以及需要保存较高图像质量的场景。可以选择使用 png-8 或 png-24，前者支持最多 256 种颜色，后者支持更多颜色但文件体积更大。
- GIF：适用于简单动画和图标，支持透明背景和基本的透明度
- SVG：矢量图形格式，适用 xml 描述图形，具有无损缩放和可编辑性
- WebP：由 google 开发的一种旨在提高图片加载速度的格式，具有较高的压缩率和图片质量
- APNG：是 PNG 的位图动画扩展，支持帧动画效果，但浏览器兼容性较差

## 二十九、一次 JS 请求一般情况下有哪些地方会有缓存处理

1. DNS 缓存：浏览器会缓存已解析的域名和对应的 IP 地址，这样在下次请求同一域名时可以直接使用缓存的 IP 地址，避免重新进行 DNS 解析。
2. CDN 缓存：如果使用了内容分发网络（CDN），CDN 会缓存静态资源文件，如 CSS 和 JS 文件，以便快速地分发给用户。当用户再次请求同一资源时，可以从 CDN 缓存中获取，减少向源服务器的请求次数。
3. 浏览器缓存：浏览器会缓存已请求的静态资源文件，如 CSS 和 JS 文件。可以通过设置 HTTP 响应头中的`Cache-Control`和`Expires`字段来控制浏览器缓存的行为。如果设置了适当的缓存策略，浏览器在下次请求同一资源时可以直接从本地缓存中获取，而不需要再次向服务器请求。
4. 服务器缓存：服务器可以对动态生成的 JS 文件进行缓存，以避免重复生成相同的响应。服务器可以通过设置响应头中的`Cache-Control`和`Expires`字段，或者使用缓存代理服务器来进行缓存处理。

## 三十、大量图片的加载优化方法

- 使用图片压缩技术：通过使用图像压缩工具，如 PhotoShop、TinyPNG 等，将图片文件的大小减小，以减少加载时间。
- 使用适当的图像格式：根据图像的特性选择合适的图像格式，如 JPEG、PNG、WebP 等。JPEG 适用于照片和复杂图像，而 PNG 适用于简单的图标和透明图像。WebP 是一种现代的图像格式，可以在保持良好质量的同时减小文件大小。
- 图片 CDN 加速：使用内容分发网络（CDN）来加速图片的传输，将图片文件缓存到离用户更近的服务器，减少传输时间。
- 使用 css 精灵图：将多个小图标或背景图片合并为一张大图，并利用 CSS 的`background-position`来定位显示需要的部分，减少 HTTP 请求的数量。
- 使用矢量图形：使用矢量图形（如 SVG）代替位图，以减小文件大小并保持清晰度，适用于简单的图形和图标。
- 图片懒加载、预加载：根据用户的浏览行为，提前加载下一页或下一组图片，以提高用户体验和流畅度。
- 图片缓存：设置适当的缓存策略，让浏览器在首次加载后对图片进行缓存，减少重复加载的次数。

## 三十一、web 开发中会话跟踪的方法有哪些

- cookie：使用 Cookie 是最常见的会话跟踪方法之一。服务器在响应中设置一个包含会话 ID 的 Cookie，然后在后续的请求中，浏览器会自动将该 Cookie 发送回服务器，以标识用户的会话。
- session：服务器使用会话来跟踪用户的状态。每个会话都会分配一个唯一的会话 ID，该 ID 通常存储在 Cookie 中或通过 URL 重写传递给服务器。服务器使用会话 ID 来关联用户的请求，并在服务器端存储会话数据。
- url 重写：将会话 ID 作为查询参数添加到 URL 中，以便在每个请求中传递会话信息。这种方法不需要依赖 Cookie，适用于禁用 Cookie 的情况，但会增加 URL 的长度并暴露会话信息。
- 隐藏 input：在表单中添加一个隐藏的 input 字段，将会话 ID 作为其值传递给服务器。服务器接收到请求时可以通过解析请求参数获取会话 ID，以进行会话跟踪。
- ip 地址：使用客户端的 IP 地址作为会话跟踪的依据。服务器根据不同的 IP 地址来区分不同的用户，并跟踪他们的会话状态。然而，由于多个用户可能共享相同的 IP 地址（如在同一局域网内），这种方法可能不准确。

## 三十二、Cookie 的弊端

- **数量限制**：每个特定域名下的`cookie`数量有限。例如，旧版的`IE6`最多允许 20 个`cookie`，而`IE7`及更高版本允许 50 个`cookie`，其他浏览器也有类似的限制。
- **大小限制**：每个`cookie`的大小也有限制，通常为约`4096`字节（不同浏览器可能有差异），为了兼容性，一般建议将`cookie`大小控制在`4095`字节以内。
- **清理策略**：一些浏览器会根据策略清理过期或不常使用的`cookie`，这可能会导致某些数据丢失或需要重新设置。
- **安全性问题**：`cookie`存储在客户端，如果被恶意拦截，攻击者可以获取其中的数据，包括`session`信息，可能导致安全隐患。
- **跨域限制**：`cookie`在同源策略下工作，无法跨域访问。每个域名下的`cookie`只能被同域名的页面访问和修改。
- **对网络性能的影响**：`cookie`会增加每个请求的数据量，从而增加了网络传输的开销，尤其在请求大量静态资源的网页时，会对加载速度产生一定的影响。
